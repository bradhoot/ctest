
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>C‑Test Introduction</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
  :root { --maxw: 900px; --accent: #1976d2; }
  body {
    font-family: Arial, sans-serif;
    margin: 40px auto;
    line-height: 1.6;
    max-width: var(--maxw);
    padding: 0 12px;
  }
  h1 { margin: 0 0 10px 0; }
  p.muted { color: #555; margin-top: 6px; }
  /* Keep the visible prefix + input together on one line */
  .ctest-pair {
    white-space: nowrap;
    display: inline-flex;
    align-items: baseline;
  }
  input[type="text"] {
    width: 40px;     /* adjust as desired */
    max-width: 600px;
    font-size: 1rem;
    margin: 0 0px;
    padding: 2px 6px;
    border: 2px solid #bbb;
    border-radius: 4px;
    transition: background-color .15s ease, border-color .15s ease;
  }
  /* Feedback colors */
  .correct   { background: #e8f5e9; border-color: #2e7d32; }
  .incorrect { background: #ffebee; border-color: #c62828; }
  button {
    margin-top: 12px;
    padding: 10px 18px;
    font-size: 1rem;
    cursor: pointer;
    border-radius: 4px;
    border: 1px solid var(--accent);
    background: var(--accent);
    color: #fff;
  }
  button.secondary {
    background: #fff;
    color: var(--accent);
  }
  #practice_status {
    margin-top: 10px;
    font-weight: bold;
  }
  hr { margin: 22px 0; }

  #pwd { width: 370px; }
	
</style>
</head>
<body>

<h1>Spanish C-Test</h1>

<p> 
	These are instructions to a Spanish C-test. In a C-test, the second half of every other word is missing. You will try to fill in the blanks with the missing half of the word. If the word has an odd number of letters, the second half of the word plus one letter will be deleted. The test will give you the first sentence and the last sentence to help you understand the context. You can see how it works below with sample sentences from this paragraph. Try to fill in the blanks and then check your answers.</p>
<hr>
	
<h2>Example C-test (sample answers underlined)</h2>
<p>
  These are instructions to a Spanish C-test. In a C-test, the second half of every other word is missing.
  Y<u>ou</u> will t<u>ry</u> to fi<u>ll</u> in t<u>he</u> blanks wi<u>th</u> the mis<u>sing</u> half o<u>f</u> the wo<u>rd</u>. If <span class="ctest-pair">t<input id="ex1"></span> word <span class="ctest-pair">h<input id="ex2"></span> an <span class="ctest-pair">o<input id="ex3"></span> number <span class="ctest-pair">o<input id="ex4"></span> letters, <span class="ctest-pair">t<input id="ex5"></span> second <span class="ctest-pair">ha<input id="ex6"></span> of <span class="ctest-pair">t<input id="ex7"></span> word <span class="ctest-pair">pl<input id="ex8"></span> one <span class="ctest-pair">let<input id="ex9"></span> will <span class="ctest-pair">b<input id="ex10"></span> deleted. You can see how it works below with sample sentences from this paragraph. Try to fill in the blanks and then check your answers.
</p>

<!-- The “Check your answers” button right under the paragraph -->
<button id="btn_check" type="button">Check your answers</button>
<button id="btn_clear" type="button" class="secondary">Clear</button>
<div id="practice_status" role="status" aria-live="polite"></div>

	<hr>
	
<p>
	This is not a timed test. If you do not know an answer, you can make a guess or leave the answer blank. 
</p>
	
<p>
	When you are ready to begin, enter the participant ID and password the experimenter gave you and click the button below. 
</p>
	
	<!-- Participant ID -->
<p><strong>Participant ID:</strong>
  <input type="text" id="pid" placeholder="Enter your ID" required>
</p>

	
<!-- Password field -->
<p class="inline">
  <label for="pwd"><strong>Password:</strong></label>
  <input type="text" id="pwd" placeholder="Enter the password provided by the experimenter" required autocomplete="off" aria-describedby="pwd_hint">
</p>

	
<!-- Start test button -->
	
<button id="btn_start_test" type="button" style="margin-top:20px;">
  Start C-test
</button>
	
		
	
<script>
	
/* Set default attributes on all C-test blanks */
document.querySelectorAll('.ctest-pair input').forEach(input => {
  input.type = "text";
  input.autocomplete = "off";
});
	
	
/* --- Answer key (missing substrings only) --- */
const ANSWER_KEY = {
  ex1: "he",   // t + he  -> the
  ex2: "as",   // h + as  -> has
  ex3: "dd",   // o + dd  -> odd
  ex4: "f",    // o + f   -> of
  ex5: "he",   // t + he  -> the
  ex6: "lf",   // ha + lf -> half
  ex7: "he",   // t + he  -> the
  ex8: "us",   // pl + us -> plus
  ex9: "ter",  // let + ter -> letter
  ex10: "e"    // b + e   -> be
};
const IDS = Object.keys(ANSWER_KEY);

/* Case-insensitive match */
function isCorrect(answer, key) {
  return (answer || "").trim().toLowerCase() === key.toLowerCase();
}

/* Grade and paint inputs */
function checkAnswers() {
  let correctCount = 0;
  IDS.forEach(id => {
    const el = document.getElementById(id);
    const val = el ? el.value : "";
    const ok = isCorrect(val, ANSWER_KEY[id]);

    el.classList.toggle("correct", ok);
    el.classList.toggle("incorrect", !ok);
    el.setAttribute("aria-invalid", ok ? "false" : "true");
    if (ok) correctCount++;
  });

  const status = document.getElementById("practice_status");
  status.textContent = `Score: ${correctCount} / ${IDS.length}`;
}

/* Clear responses and feedback */
function clearAnswers() {
  IDS.forEach(id => {
    const el = document.getElementById(id);
    el.value = "";
    el.classList.remove("correct", "incorrect");
    el.removeAttribute("aria-invalid");
  });
  document.getElementById("practice_status").textContent = "";
}

/* Wire buttons */
document.getElementById("btn_check").addEventListener("click", checkAnswers);
document.getElementById("btn_clear").addEventListener("click", clearAnswers);


/* ---- Move to next page with Participant ID preserved ---- */
const REQUIRED_PASSWORD = "spanish@depaul";
	
	const NEXT_PAGE_URL = "test.html";   // <-- Replace with your real next page


document.getElementById("btn_start_test").addEventListener("click", () => {
  const pidField = document.getElementById("pid");
  const pwdField = document.getElementById("pwd");
  const pid = (pidField.value || "").trim();
  const pwd = (pwdField.value || "").trim();
  const status = document.getElementById("practice_status");

  if (!pid) {
    status.textContent = "⚠️ Please enter your Participant ID before starting the test.";
    pidField.focus();
    return;
  }
  if (!pwd) {
    status.textContent = "⚠️ Please enter the password to continue.";
    pwdField.focus();
    return;
  }
  if (pwd !== REQUIRED_PASSWORD) {
    status.textContent = "⛔ Incorrect password. Please check with the experimenter.";
    pwdField.focus();
    pwdField.select();
    return;
  }

  const target = `${NEXT_PAGE_URL}?pid=${encodeURIComponent(pid)}`;
  window.location.href = target;
});

</script>

</body>
	
</html>
